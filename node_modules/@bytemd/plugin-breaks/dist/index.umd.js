(function(o,y){typeof exports=="object"&&typeof module!="undefined"?module.exports=y():typeof define=="function"&&define.amd?define(y):(o=typeof globalThis!="undefined"?globalThis:o||self,o.bytemdPluginBreaks=y())})(this,function(){"use strict";const o=function(n){if(n==null)return A;if(typeof n=="string")return j(n);if(typeof n=="object")return Array.isArray(n)?y(n):w(n);if(typeof n=="function")return h(n);throw new Error("Expected function, string, or object as test")};function y(n){const t=[];let e=-1;for(;++e<n.length;)t[e]=o(n[e]);return h(u);function u(...f){let i=-1;for(;++i<t.length;)if(t[i].call(this,...f))return!0;return!1}}function w(n){return h(t);function t(e){let u;for(u in n)if(e[u]!==n[u])return!1;return!0}}function j(n){return h(t);function t(e){return e&&e.type===n}}function h(n){return t;function t(...e){return!!n.call(this,...e)}}function A(){return!0}function v(n){return n}const E=!0,F="skip",b=!1,I=function(n,t,e,u){typeof t=="function"&&typeof e!="function"&&(u=e,e=t,t=null);const f=o(t),i=u?-1:1;l(n,null,[])();function l(r,O,g){const a=typeof r=="object"&&r!==null?r:{};let d;return typeof a.type=="string"&&(d=typeof a.tagName=="string"?a.tagName:typeof a.name=="string"?a.name:void 0,Object.defineProperty(x,"name",{value:"node ("+(a.type+(d?"<"+d+">":""))+")"})),x;function x(){let s=[],p,c,k;if((!t||f(r,O,g[g.length-1]||null))&&(s=N(e(r,g)),s[0]===b))return s;if(r.children&&s[0]!==F)for(c=(u?r.children.length:-1)+i,k=g.concat(r);c>-1&&c<r.children.length;){if(p=l(r.children[c],c,k)(),p[0]===b)return p;c=typeof p[1]=="number"?p[1]:c+i}return s}}};function N(n){return Array.isArray(n)?n:typeof n=="number"?[E,n]:[n]}const P=function(n,t,e,u){typeof t=="function"&&typeof e!="function"&&(u=e,e=t,t=null),I(n,t,f,u);function f(i,l){const r=l[l.length-1];return e(i,r?r.children.indexOf(i):null,r)}},m=/[\t ]*(?:\r?\n|\r)/g;function T(){return n=>{P(n,"text",(t,e,u)=>{const f=[];let i=0;m.lastIndex=0;let l=m.exec(t.value);for(;l;){const r=l.index;i!==r&&f.push({type:"text",value:t.value.slice(i,r)}),f.push({type:"break"}),i=r+l[0].length,l=m.exec(t.value)}if(f.length>0&&u&&typeof e=="number")return i<t.value.length&&f.push({type:"text",value:t.value.slice(i)}),u.children.splice(e,1,...f),e+f.length})}}function B(){return{remark:n=>n.use(T)}}return B});
